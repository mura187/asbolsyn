(this.webpackJsonpasbolsyn=this.webpackJsonpasbolsyn||[]).push([[9],{104:function(e,t,n){"use strict";n.r(t);var r=n(71),a=n(70),c=n(80),o=n(0),i=n.n(o),s=n(20),u=n(72),l=n(82);n(95);var f={onLogin:l.a.login};t.default=Object(s.c)((function(e){return{login:e.login}}),f)((function(e){var t=Object(o.useState)(!1),n=Object(c.a)(t,2),s=n[0],l=n[1],f=Object(o.useState)(!1),p=Object(c.a)(f,2),m=p[0],b=p[1],d=Object(o.useState)(!1),g=Object(c.a)(d,2),y=g[0],v=g[1],O=Object(o.useReducer)((function(e,t){return Object(a.a)({},e,{},t)}),{login:"",password:""}),h=Object(c.a)(O,2),j=h[0],k=h[1],E=e.onLogin,S=function(e){var t=e.target.name,n=e.target.value;k(Object(r.a)({},t,n))};return i.a.createElement("div",null,i.a.createElement("h1",{className:"main-logo text-center f-32"},"As Bolsyn"),i.a.createElement("div",{className:"row align-items-center justify-content-center mt-180"},i.a.createElement("div",{className:"form-login container px-20"},i.a.createElement("div",{className:"text-left"},i.a.createElement("p",{className:"my-20 f-14"},"\u0412\u0445\u043e\u0434 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442")),i.a.createElement("div",{className:"d-flex flex-column"},i.a.createElement("input",{type:"text",className:"container form-login__input my-8",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c",name:"login",value:j.login,onChange:S}),m&&i.a.createElement("div",{className:"text-left text-danger"},i.a.createElement("p",{className:"container px-36 my-4 f-14"},"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")),s&&i.a.createElement("input",{type:"password",className:"container form-login__input my-8",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",value:j.password,onChange:S}),i.a.createElement("button",{onClick:s?function(e){e.preventDefault(),E&&E({login:j.login,password:j.password},{onError:function(){return v(!0)}})}:function(){j.login.length>0?(l(!0),b(!1)):b(!0)},className:"container form-login__submit my-16",type:"submit"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"),y&&i.a.createElement("div",{className:"text-left text-danger"},i.a.createElement("p",{className:"container px-36 mb-16 f-14"},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")),!s&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"text-center f-12 my-4"},"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),i.a.createElement(u.a,{className:"text-main text-center mt-8 mb-16 f-13",to:"/register"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))))}))},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(71);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},71:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(5),a=n(18),c=n(0),o=n.n(c),i=n(13),s=(n(2),n(1)),u=n(9),l=n(12);o.a.Component;o.a.Component;var f=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?Object(i.c)(e,null,null,t):e},m=function(e){return e},b=o.a.forwardRef;"undefined"===typeof b&&(b=m);var d=b((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,c=Object(u.a)(e,["innerRef","navigate","onClick"]),i=c.target,l=Object(s.a)({},c,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=m!==b&&t||n,o.a.createElement("a",l)}));var g=b((function(e,t){var n=e.component,a=void 0===n?d:n,c=e.replace,i=e.to,g=e.innerRef,y=Object(u.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=p(f(i,e.location),e.location),u=r?n.createHref(r):"",d=Object(s.a)({},y,{href:u,navigate:function(){var t=f(i,e.location);(c?n.replace:n.push)(t)}});return m!==b?d.ref=t||g:d.innerRef=g,o.a.createElement(a,d)}))})),y=function(e){return e},v=o.a.forwardRef;"undefined"===typeof v&&(v=y);var O=v((function(e,t){var n=e["aria-current"],a=void 0===n?"page":n,c=e.activeClassName,i=void 0===c?"active":c,m=e.activeStyle,b=e.className,d=e.exact,O=e.isActive,h=e.location,j=e.strict,k=e.style,E=e.to,S=e.innerRef,w=Object(u.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=h||e.location,c=p(f(E,n),n),u=c.pathname,x=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),N=x?Object(r.e)(n.pathname,{path:x,exact:d,strict:j}):null,C=!!(O?O(N,n):N),P=C?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(b,i):b,T=C?Object(s.a)({},k,{},m):k,I=Object(s.a)({"aria-current":C&&a||null,className:P,style:T,to:c},w);return y!==v?I.ref=t||S:I.innerRef=S,o.a.createElement(g,I)}))}))},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(70),a=function(e,t,n,a){var c=n.callbacks||{};e({type:n.action.started}),n.apiCall().then((function(t){switch(t.status){case 200:case 201:t.text().then((function(t){if(a){var o="data:image/png;base64,".concat(t);e(Object(r.a)({type:n.action.success},n.onSuccess(o))),c.onSuccess&&c.onSuccess(n.onSuccess(o))}else{var i=JSON.parse(t);e(Object(r.a)({type:n.action.success},n.onSuccess(i))),c.onSuccess&&c.onSuccess(n.onSuccess(i))}}));break;case 230:t.text().then((function(t){e(Object(r.a)({type:n.action.success},n.onSuccess(!0))),c.onSuccess&&c.onSuccess(n.onSuccess(!0))}));break;case 500:t.text().then((function(t){e(Object(r.a)({type:n.action.failed},n.onError({message:"\u043e\u0448\u0438\u0431\u043a\u0430 500!"})))}));break;case 504:t.text().then((function(t){e(Object(r.a)({type:n.action.failed},n.onError({message:"serverError"})))}));break;default:e({type:n.action.failed,errorMessage:"\u041e\u0448\u0438\u0431\u043a\u0430 #".concat(t.status)})}}),(function(t){e(Object(r.a)({type:n.action.failed,errorMessage:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435"},n.onError({message:"serverError"})))}))}},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="http://185.22.67.118:8080/"},75:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n(70),a=function(e){var t=Object(r.a)({},{Accept:"application/json, application/xml, text/plain, text/html, *.*",Token:"".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"});return e.token&&(t.Token="Bearer ".concat(e.token)),t},c=function(e){return fetch(e.url,{method:"POST",headers:a(e),body:JSON.stringify(e.data||{})})},o=function(e){return fetch(e.url,{method:"GET",headers:a(e)})},i=function(e){return e.data?fetch(e.url,{method:"PUT",headers:a(e),body:JSON.stringify(e.data||{})}):fetch(e.url,{method:"PUT",headers:a(e)})}},80:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},82:function(e,t,n){"use strict";var r=n(73),a=n(74),c=n(75),o=sessionStorage.getItem("userId"),i="".concat(a.a,"api/user/login"),s="".concat(a.a,"api/user/checkphone"),u="".concat(a.a,"api/user/checkcode"),l="".concat(a.a,"api/user/").concat(o,"/changepassword"),f="".concat(a.a,"api/user/registration"),p=n(11);t.a={login:function(e,t){return function(n,a){Object(r.a)(n,a,{callbacks:t,action:p.d,apiCall:function(){return function(e){return Object(c.b)({data:e,url:i})}(e)},onSuccess:function(e){return window.location.replace("/"),sessionStorage.setItem("token",e.Token),sessionStorage.setItem("userId",e.User.id),{user_token:e.Token,user_info:e.User}},onError:function(e){return{user_token:e.Error}}})}},checkPhone:function(e,t){return function(n,a){Object(r.a)(n,a,{callbacks:t,action:p.b,apiCall:function(){return function(e){return Object(c.b)({data:e,url:s})}(e)},onSuccess:function(e){console.log("checkphone token changed to ",e.Token),sessionStorage.setItem("token",e.Token)},onError:function(e){return{errorMessage:e.Error}}})}},checkCode:function(e,t){return function(n,a){Object(r.a)(n,a,{callbacks:t,action:p.a,apiCall:function(){return function(e){return Object(c.b)({data:e,url:u})}(e)},onSuccess:function(e){console.log("checkcode - token changed to ",e.Token),sessionStorage.setItem("token",e.Token)},onError:function(e){return{errorMessage:e.Error}}})}},register:function(e,t){return function(n,a){Object(r.a)(n,a,{callbacks:t,action:p.e,apiCall:function(){return function(e){return Object(c.b)({data:e,url:f})}(e)},onSuccess:function(e){sessionStorage.setItem("token",e.Token),window.location.replace("/cabinet")},onError:function(e){return{errorMessage:e.Error}}})}},updatePassword:function(e,t){return function(n,a){Object(r.a)(n,a,{callbacks:t,action:p.f,apiCall:function(){return function(e){return Object(c.c)({data:e,url:l})}(e)},onSuccess:function(){window.location.replace("/cabinet")},onError:function(e){return{errorPassword:e.Error}}})}}}},95:function(e,t,n){}}]);
//# sourceMappingURL=9.df7c99dc.chunk.js.map