(this.webpackJsonpasbolsyn=this.webpackJsonpasbolsyn||[]).push([[6],{105:function(e,t,n){"use strict";n.r(t);var r=n(71),o=n(70),a=n(80),s=n(0),i=n.n(s),c=n(20),u=n(72),l=n(96),f=n.n(l),p=n(76),m=n(77),h=n(82);n(98);var d={onCheckPhone:h.a.checkPhone,onCheckCode:h.a.checkCode,onRegister:h.a.register};t.default=Object(c.c)(null,d)((function(e){var t=Object(s.useState)(!1),n=Object(a.a)(t,2),c=n[0],l=n[1],h=Object(s.useState)(!1),d=Object(a.a)(h,2),g=d[0],v=d[1],k=Object(s.useState)(!1),b=Object(a.a)(k,2),O=b[0],w=b[1],S=Object(s.useState)(!1),y=Object(a.a)(S,2),C=y[0],E=y[1],j=Object(s.useState)(""),I=Object(a.a)(j,2),M=I[0],P=I[1],D=Object(s.useState)(!1),x=Object(a.a)(D,2),N=x[0],V=x[1],T=Object(s.useState)(!1),_=Object(a.a)(T,2),F=_[0],A=_[1],L=Object(s.useReducer)((function(e,t){return Object(o.a)({},e,{},t)}),{phone:"",code:"",userName:"",password:"",checkedPassword:""}),R=Object(a.a)(L,2),B=R[0],U=R[1],q=e.onCheckPhone,J=e.onCheckCode,z=e.onRegister,X=function(e){var t=e.target.name,n=e.target.value,o=e.target.value.replace(/\D/g,"").substr(1);U(Object(r.a)({},t,n)),P(o)},Y=function(){q&&q({phone:M},{onError:function(){return w(!0)}})};return i.a.createElement("div",null,i.a.createElement("h1",{className:"main-logo text-center f-32"},"As Bolsyn"),i.a.createElement("div",{className:"row align-items-center justify-content-center mt-180"},i.a.createElement("div",{className:"form-login container px-20"},i.a.createElement("div",{className:"text-left"},i.a.createElement("p",{className:"my-20 f-14"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),i.a.createElement("div",{className:"d-flex flex-column"},F?i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"text",className:"container form-login__input my-8",placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c",name:"userName",value:B.userName,onChange:X}),i.a.createElement("div",{className:"show-align-self-center text-grey cursor-pointer mt-18 position-absolute r-24",onClick:C?function(){return E(!1)}:function(){return E(!0)}},C?i.a.createElement(p.a,{icon:m.b}):i.a.createElement(p.a,{icon:m.a})),i.a.createElement("input",{type:"password",className:"container form-login__input my-8",placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",value:B.password,onChange:X}),i.a.createElement("input",{type:"password",className:"container form-login__input my-8",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"checkedPassword",value:B.checkedPassword,onChange:X}),i.a.createElement("button",{onClick:function(){z&&z({user_name:B.userName,password:B.password},{onSuccess:function(){return window.location.replace("/cabinet")},onError:function(){return w(!0)}})},disabled:B.password!==B.checkedPassword,className:"container form-login__submit my-16",type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")):i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{id:"phone",name:"phone",className:"container form-login__input my-8 f-15",alwaysShowMask:!0,onChange:function(e){return X(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",mask:"+7 (799) 999-99-99",maskChar:"_",value:B.phone}),g&&i.a.createElement("div",{className:"text-left text-danger"},i.a.createElement("p",{className:"container px-36 my-4 f-14"},"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")),c&&i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"number",className:"container form-login__input my-8",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434",name:"code",value:B.code,onChange:X}),i.a.createElement("button",{onClick:function(e){e.preventDefault(),J&&J({code:B.code},{onSuccess:function(){return A(!0)}})},className:"container form-login__submit my-16",type:"submit"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")),!N&&i.a.createElement("button",{onClick:c?Y:function(){10===M.length?(l(!0),v(!1),Y(),V(!0)):v(!0)},className:"container form-login__submit my-16",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c SMS")),O&&i.a.createElement("div",{className:"text-left text-danger"},i.a.createElement("p",{className:"container px-36 mb-16 f-14"},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")),!c&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"text-center f-12 my-4"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),i.a.createElement(u.a,{className:"text-main text-center mt-8 mb-16 f-13",to:"/login"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))))}))},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(71);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},71:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(70),o=function(e,t,n,o){var a=n.callbacks||{};e({type:n.action.started}),n.apiCall().then((function(t){switch(t.status){case 200:case 201:t.text().then((function(t){if(o){var s="data:image/png;base64,".concat(t);e(Object(r.a)({type:n.action.success},n.onSuccess(s))),a.onSuccess&&a.onSuccess(n.onSuccess(s))}else{var i=JSON.parse(t);e(Object(r.a)({type:n.action.success},n.onSuccess(i))),a.onSuccess&&a.onSuccess(n.onSuccess(i))}}));break;case 230:t.text().then((function(t){e(Object(r.a)({type:n.action.success},n.onSuccess(!0))),a.onSuccess&&a.onSuccess(n.onSuccess(!0))}));break;case 500:t.text().then((function(t){e(Object(r.a)({type:n.action.failed},n.onError({message:"\u043e\u0448\u0438\u0431\u043a\u0430 500!"})))}));break;case 504:t.text().then((function(t){e(Object(r.a)({type:n.action.failed},n.onError({message:"serverError"})))}));break;default:e({type:n.action.failed,errorMessage:"\u041e\u0448\u0438\u0431\u043a\u0430 #".concat(t.status)})}}),(function(t){e(Object(r.a)({type:n.action.failed,errorMessage:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435"},n.onError({message:"serverError"})))}))}},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="http://185.22.67.118:8080/"},75:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));var r=n(70),o=function(e){var t=Object(r.a)({},{Accept:"application/json, application/xml, text/plain, text/html, *.*",Token:"".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"});return e.token&&(t.Token="Bearer ".concat(e.token)),t},a=function(e){return fetch(e.url,{method:"POST",headers:o(e),body:JSON.stringify(e.data||{})})},s=function(e){return fetch(e.url,{method:"GET",headers:o(e)})},i=function(e){return e.data?fetch(e.url,{method:"PUT",headers:o(e),body:JSON.stringify(e.data||{})}):fetch(e.url,{method:"PUT",headers:o(e)})}},80:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return o}))},82:function(e,t,n){"use strict";var r=n(73),o=n(74),a=n(75),s=sessionStorage.getItem("userId"),i="".concat(o.a,"api/user/login"),c="".concat(o.a,"api/user/checkphone"),u="".concat(o.a,"api/user/checkcode"),l="".concat(o.a,"api/user/").concat(s,"/changepassword"),f="".concat(o.a,"api/user/registration"),p=n(11);t.a={login:function(e,t){return function(n,o){Object(r.a)(n,o,{callbacks:t,action:p.d,apiCall:function(){return function(e){return Object(a.b)({data:e,url:i})}(e)},onSuccess:function(e){return window.location.replace("/"),sessionStorage.setItem("token",e.Token),sessionStorage.setItem("userId",e.User.id),{user_token:e.Token,user_info:e.User}},onError:function(e){return{user_token:e.Error}}})}},checkPhone:function(e,t){return function(n,o){Object(r.a)(n,o,{callbacks:t,action:p.b,apiCall:function(){return function(e){return Object(a.b)({data:e,url:c})}(e)},onSuccess:function(e){console.log("checkphone token changed to ",e.Token),sessionStorage.setItem("token",e.Token)},onError:function(e){return{errorMessage:e.Error}}})}},checkCode:function(e,t){return function(n,o){Object(r.a)(n,o,{callbacks:t,action:p.a,apiCall:function(){return function(e){return Object(a.b)({data:e,url:u})}(e)},onSuccess:function(e){console.log("checkcode - token changed to ",e.Token),sessionStorage.setItem("token",e.Token)},onError:function(e){return{errorMessage:e.Error}}})}},register:function(e,t){return function(n,o){Object(r.a)(n,o,{callbacks:t,action:p.e,apiCall:function(){return function(e){return Object(a.b)({data:e,url:f})}(e)},onSuccess:function(e){sessionStorage.setItem("token",e.Token),window.location.replace("/cabinet")},onError:function(e){return{errorMessage:e.Error}}})}},updatePassword:function(e,t){return function(n,o){Object(r.a)(n,o,{callbacks:t,action:p.f,apiCall:function(){return function(e){return Object(a.c)({data:e,url:l})}(e)},onSuccess:function(){window.location.replace("/cabinet")},onError:function(e){return{errorPassword:e.Error}}})}}}},96:function(e,t,n){e.exports=n(97)},97:function(e,t,n){"use strict";var r,o=(r=n(0))&&"object"==typeof r&&"default"in r?r.default:r,a=n(23);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}}(e.prototype.constructor=e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e,t,n,r,o,a,s,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,a,s,i],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}};function l(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var f={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function p(e,t,n){var r="",o="",a=null,s=[];if(void 0===t&&(t="_"),null==n&&(n=f),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var i=!1;return e.split("").forEach((function(e){i=!i&&"\\"===e||(i||!n[e]?(s.push(r.length),r.length===s.length-1&&(o+=e)):a=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:o,mask:r,lastEditablePosition:a,permanents:s}}function m(e,t){return-1!==e.permanents.indexOf(t)}function h(e,t,n){var r=e.mask,o=e.formatChars;if(!n)return!1;if(m(e,t))return r[t]===n;var a=o[r[t]];return new RegExp(a).test(n)}function d(e,t){return t.split("").every((function(t,n){return m(e,n)||!h(e,n,t)}))}function g(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&m(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var o=r.length,a=t.length;a>=r.length;a--){var s=t[a];if(!m(e,a)&&h(e,a,s)){o=a+1;break}}return o}function v(e,t){return g(e,t)===e.mask.length}function k(e,t){var n=e.maskChar,r=e.mask,o=e.prefix;if(!n){for((t=b(e,"",t,0)).length<o.length&&(t=o);t.length<r.length&&m(e,t.length);)t+=r[t.length];return t}if(t)return b(e,k(e,""),t,0);for(var a=0;a<r.length;a++)m(e,a)?t+=r[a]:t+=n;return t}function b(e,t,n,r){var o=e.mask,a=e.maskChar,s=e.prefix,i=n.split(""),c=v(e,t);return!a&&r>t.length&&(t+=o.slice(t.length,r)),i.every((function(n){for(;l=n,m(e,u=r)&&l!==o[u];){if(r>=t.length&&(t+=o[r]),i=n,a&&m(e,r)&&i===a)return!0;if(++r>=o.length)return!1}var i,u,l;return!h(e,r,n)&&n!==a||(r<t.length?t=a||c||r<s.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),k(e,t)):a||(t+=n),++r<o.length)})),t}function O(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!m(e,r))return r;return null}function w(e){return e||0===e?e+"":""}function S(e,t,n,r,o){var a=e.mask,s=e.prefix,i=e.lastEditablePosition,c=t,u="",l=0,f=0,p=Math.min(o.start,n.start);return n.end>o.start?f=(l=function(e,t,n,r){var o=e.mask,a=e.maskChar,s=n.split(""),i=r;return s.every((function(t){for(;s=t,m(e,n=r)&&s!==o[n];)if(++r>=o.length)return!1;var n,s;return(h(e,r,t)||t===a)&&r++,r<o.length})),r-i}(e,0,u=c.slice(o.start,n.end),p))?o.length:0:c.length<r.length&&(f=r.length-c.length),c=r,f&&(1!==f||o.length||(p=o.start===n.start?O(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!m(e,n))return n;return null}(e,n.start)),c=function(e,t,n,r){var o=n+r,a=e.maskChar,s=e.mask,i=e.prefix,c=t.split("");if(a)return c.map((function(t,r){return r<n||o<=r?t:m(e,r)?s[r]:a})).join("");for(var u=o;u<c.length;u++)m(e,u)&&(c[u]="");return n=Math.max(i.length,n),c.splice(n,o-n),t=c.join(""),k(e,t)}(e,c,p,f)),c=b(e,c,u,p),(p+=l)>=a.length?p=a.length:p<s.length&&!l?p=s.length:p>=s.length&&p<i&&l&&(p=O(e,p)),u||(u=null),{value:c=k(e,c),enteredString:u,selection:{start:p,end:p}}}function y(e){return"function"==typeof e}function C(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function E(e){return(C()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function j(e){(C()||clearTimeout)(e)}var I=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=E(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(j(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=a.findDOMNode(c(c(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=g(n.maskOptions,n.value),t=O(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var o=n.getInputDOMNode(),a=n.isFocused();o&&a&&(r.deferred||l(o,e,t),null!==n.selectionDeferId&&j(n.selectionDeferId),n.selectionDeferId=E((function(){n.selectionDeferId=null,l(o,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,o=e.permanents,a=e.formatChars;return{mask:t,maskChar:r,permanents:o,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:a}},n.isInputAutofilled=function(e,t,r,o){var a=n.getInputDOMNode();try{if(a.matches(":-webkit-autofill"))return!0}catch(u){}return!n.focused||o.end<r.length&&t.end===e.length},n.onChange=function(e){var t=c(c(n)).beforePasteState,r=c(c(n)).previousSelection,o=n.props.beforeMaskedValueChange,a=n.getInputValue(),s=n.value,i=n.getSelection();n.isInputAutofilled(a,i,s,r)&&(s=k(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,s=t.value,i={start:r.start+a.length,end:r.start+a.length,length:0},a=s.slice(0,r.start)+a+s.slice(r.end),n.beforePasteState=null);var u=S(n.maskOptions,a,i,s,r),l=u.enteredString,f=u.selection,p=u.value;if(y(o)){var m=o({value:p,selection:f},{value:s,selection:r},l,n.getBeforeMaskedValueChangeConfig());p=m.value,f=m.selection}n.setInputValue(p),y(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(f.start,f.end,{deferred:!0}):n.setSelection(f.start,f.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,o=r.mask,a=r.prefix;if(n.focused=!0,n.mounted=!0,o){if(n.value)g(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var s=k(n.maskOptions,a),i=k(n.maskOptions,s),c=g(n.maskOptions,i),u=O(n.maskOptions,c),l={start:u,end:u};if(y(t)){var f=t({value:i,selection:l},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());i=f.value,l=f.selection}var p=i!==n.getInputValue();p&&n.setInputValue(i),p&&y(n.props.onChange)&&n.props.onChange(e),n.setSelection(l.start,l.end)}n.runSaveSelectionLoop()}y(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&d(n.maskOptions,n.value)){var o="";y(t)&&(o=t({value:o,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var a=o!==n.getInputValue();a&&n.setInputValue(o),a&&y(n.props.onChange)&&n.props.onChange(e)}y(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),o=Math.abs(t.clientY-n.mouseDownY),a=Math.max(r,o),s=(new Date).getTime()-n.mouseDownTime;(a<=10&&s<=200||a<=5&&s<=300)&&n.setCursorToEnd()}}))}y(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){y(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&y(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,o=t.maskChar,s=t.formatChars,i=t.alwaysShowMask,u=t.beforeMaskedValueChange,f=t.defaultValue,m=t.value;n.maskOptions=p(r,o,s),null==f&&(f=""),null==m&&(m=f);var h=w(m);if(n.maskOptions.mask&&(i||h)&&(h=k(n.maskOptions,h),y(u))){var v=t.value;null==t.value&&(v=f),h=u({value:h,selection:null},{value:v=w(v),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=h,n}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,o=t.mask,a=t.maskChar,s=t.formatChars,i=this.maskOptions,c=r||this.isFocused(),u=null!=this.props.value,l=u?w(this.props.value):this.value,f=e?e.start:null;if(this.maskOptions=p(o,a,s),this.maskOptions.mask){!i.mask&&this.isFocused()&&this.runSaveSelectionLoop();var m=this.maskOptions.mask&&this.maskOptions.mask!==i.mask;if(i.mask||u||(l=this.getInputValue()),(m||this.maskOptions.mask&&(l||c))&&(l=k(this.maskOptions,l)),m){var h=g(this.maskOptions,l);(null===f||h<f)&&(f=v(this.maskOptions,l)?h:O(this.maskOptions,h))}!this.maskOptions.mask||!d(this.maskOptions,l)||c||u&&this.props.value||(l="");var b={start:f,end:f};if(y(n)){var S=n({value:l,selection:b},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());l=S.value,b=S.selection}this.value=l;var C=this.getInputValue()!==this.value;C?(this.setInputValue(this.value),this.forceUpdate()):m&&this.forceUpdate();var E=!1;null!=b.start&&null!=b.end&&(E=!e||e.start!==b.start||e.end!==b.end),(E||C)&&this.setSelection(b.start,b.end)}else i.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&j(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){y(n)||u(!1);var a=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],i=s({},r);a.forEach((function(e){return delete i[e]})),e=n(i),a.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&u(!1)}else e=o.createElement("input",s({ref:this.handleRef},r));var c={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(c.onChange=this.onChange,c.onPaste=this.onPaste,c.onMouseDown=this.onMouseDown),null!=r.value&&(c.value=this.value)),e=o.cloneElement(e,c)},t}(o.Component);e.exports=I},98:function(e,t,n){}}]);
//# sourceMappingURL=6.ce5808a1.chunk.js.map