{"version":3,"sources":["pages/Cabinet/PasswordUpdatePage.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","store/defaultAction.ts","constants/server.ts","store/defaultApi.ts","components/molecules/TabBar/index.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","store/auth/api.ts","store/auth/actions.ts"],"names":["mapDispatchToProps","onUpdatePassword","authActions","updatePassword","connect","state","login","props","useState","error","setError","showPass","setShowPass","useReducer","newState","oldPassword","newPassword","checkedPassword","userInput","setUserInput","handleChange","e","name","target","newValue","value","className","required","type","placeholder","onChange","onClick","icon","faEyeSlash","faEye","preventDefault","length","old_password","new_password","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","i","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","configurable","writable","defaultAction","dispatch","getState","options","responseType","callbacks","action","started","apiCall","then","response","status","text","responseObject","success","onSuccess","JSON","parse","val","failed","onError","message","errorMessage","API_URL","modifyHeader","headers","Accept","Token","sessionStorage","getItem","token","stdApiPOST","fetch","url","method","body","stringify","data","stdApiGET","stdApiPUT","TabBar","to","activeClassName","faHome","color","faMapMarked","faPlusSquare","faHistory","faUserCircle","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","o","minLen","n","prototype","toString","call","slice","constructor","from","test","TypeError","id","authUrl","checkPhoneUrl","checkCodeUrl","updatePasswordUrl","registerUrl","LOGIN","api","window","location","replace","setItem","User","user_token","user_info","Error","checkPhone","CHECK_PHONE","console","log","checkCode","CHECK_CODE","register","REGISTER","UPDATE_PASSWORD","errorPassword"],"mappings":"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","file":"static/js/8.b209fc19.chunk.js","sourcesContent":["import React, { useState, useReducer } from 'react';\nimport { connect } from 'react-redux';\nimport authActions from 'src/store/auth/actions';\n\nimport TabBar from 'src/components/molecules/TabBar';\n\nimport { PasswordPageTypes } from 'src/pages/Cabinet/types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye, faEyeDropper, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\n\nfunction Password(props: PasswordPageTypes.IProps) {\n  const [error, setError] = useState(false);\n  const [showPass, setShowPass] = useState(false);\n  const [userInput, setUserInput] = useReducer(\n    (state: any, newState: any) => ({ ...state, ...newState }),\n    {\n      oldPassword: '',\n      newPassword: '',\n      checkedPassword: '',\n    },\n  );\n\n  const { onUpdatePassword } = props;\n\n  const handleChange = (e: any) => {\n    const { name } = e.target;\n    const newValue = e.target.value;\n    setUserInput({ [name]: newValue });\n  };\n\n  const submitForm = (e: any) => {\n    e.preventDefault();\n    if (userInput.newPassword.length > 8 && userInput.newPassword === userInput.checkedPassword) {\n      onUpdatePassword && onUpdatePassword(\n        {\n          old_password: userInput.oldPassword,\n          new_password: userInput.checkedPassword,\n        },\n        {\n          // onError: () => (setError(true)),\n        },\n      );\n    } else {\n      setError(true);\n    }\n  };\n\n  return (\n    <div>\n      <h1 className=\"main-logo text-center f-32\">As Bolsyn</h1>\n      <div className=\"row align-items-center justify-content-center mt-180\">\n        <div className=\"update-password container bg-white base-shadow\">\n          <div className=\"text-left\">\n            <p className=\"container my-20 f-14\">Смена пароля</p>\n          </div>\n\n          <div className=\"d-flex flex-column container \">\n            <div className=\"d-flex flex-row\">\n              <input required type={showPass ? 'text' : 'password'}\n                className=\"container my-8\"\n                placeholder=\"Введите старый пароль\"\n                name=\"oldPassword\" value={userInput.oldPassword} onChange={handleChange}\n              />\n              <div className=\"show-align-self-center text-grey cursor-pointer mt-18 position-absolute r-64\"\n                onClick={showPass ? () => (setShowPass(false)) : () => (setShowPass(true))}>\n                { showPass ? <FontAwesomeIcon icon={faEyeSlash} /> : <FontAwesomeIcon icon={faEye} /> }\n              </div>\n            </div>\n            <input required type={showPass ? 'text' : 'password'}\n              className=\"container my-8\"\n              placeholder=\"Введите новый пароль\"\n              name=\"newPassword\" value={userInput.newPassword} onChange={handleChange}\n            />\n            <input required type={showPass ? 'text' : 'password'}\n              className=\"container my-8\"\n              placeholder=\"Повторите новый пароль\"\n              name=\"checkedPassword\" value={userInput.checkedPassword} onChange={handleChange}\n            />\n            {error &&\n              <p className=\"text-danger\">\n                Введенные новые пароли не совпадают либо неправильный старый пароль\n              </p>\n            }\n            <button\n              onClick={submitForm}\n              className=\"container update-password__submit mt-16 mb-40\" type=\"submit\">Сменить\n            </button>\n          </div>\n        </div>\n        <TabBar />\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state: any) => {\n  return ({\n    login: state.login,\n  });\n};\n\nconst mapDispatchToProps = {\n  onUpdatePassword: authActions.updatePassword,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Password);\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export const defaultAction = (dispatch: any, getState: any , options: any, responseType?: string) => {\n  const callbacks = options.callbacks || {};\n  dispatch({ type: options.action.started });\n  options.apiCall()\n        .then(\n            (response: any) => {\n              switch (response.status) {\n                case 200:\n                case 201:\n                  response\n                    .text()\n                    .then(\n                      (value: any) => {\n                        if (responseType) {\n                          const responseObject = `data:image/png;base64,${value}`;\n                          dispatch({\n                            type: options.action.success,\n                            ...options.onSuccess(responseObject),\n                          });\n                          if (callbacks.onSuccess) {\n                            callbacks.onSuccess(options.onSuccess(responseObject));\n                          }\n                        } else {\n                          const responseObject = JSON.parse(value);\n                          dispatch({\n                            type: options.action.success,\n                            ...options.onSuccess(responseObject),\n                          });\n                          if (callbacks.onSuccess) {\n                            callbacks.onSuccess(options.onSuccess(responseObject));\n                          }\n                        }\n                      },\n                    );\n                  break;\n                case 230:\n                  response\n                    .text()\n                    .then(\n                        (value: any) => {\n                          dispatch({\n                            type: options.action.success,\n                            ...options.onSuccess(true),\n                          });\n                          if (callbacks.onSuccess) {\n                            callbacks.onSuccess(options.onSuccess(true));\n                          }\n                        },\n                    );\n                  break;\n                case 500:\n                  response\n                    .text()\n                    .then((val: any) => {\n                      dispatch({\n                        type: options.action.failed,\n                        ...options.onError({ message: 'ошибка 500!' }),\n                      });\n                    });\n                  break;\n                case 504:\n                  response\n                    .text()\n                    .then((val: any) => {\n                      dispatch({\n                        type: options.action.failed,\n                        ...options.onError({ message: 'serverError' }),\n                      });\n                    });\n                  break;\n                default:\n                  dispatch({\n                    type: options.action.failed,\n                    errorMessage: `Ошибка #${response.status}`,\n                  });\n              }\n            },\n            (error: any) => {\n              dispatch({\n                type: options.action.failed,\n                errorMessage: 'Проверьте соединение',\n                ...options.onError({ message: 'serverError' }),\n              });\n            },\n        );\n};\n","const env = process.env.NODE_ENV;\nexport const API_URL = (\n  env === 'production' ?\n    // prod\n    'http://185.22.67.118:8080/'\n  : env === 'development' ?\n    // dev\n    'http://185.22.67.118:8080/'\n  :\n    // local\n    'http://185.22.67.118:8080/'\n);\n","const modifyHeader = (options: any) => {\n  const headers = { ...{\n    Accept: 'application/json, application/xml, text/plain, text/html, *.*',\n    Token: `${sessionStorage.getItem('token')}`,\n    'Content-Type': 'application/json',\n  } };\n\n  if (!!options.token) {\n    headers['Token'] = `Bearer ${options.token}`;\n  }\n\n  return headers;\n};\n\nexport const stdApiPOST = (options: any) => {\n  return (\n    fetch(\n      options.url,\n      {\n        method: 'POST',\n        headers: modifyHeader(options),\n        body: JSON.stringify(options.data || {}),\n      },\n    )\n  );\n};\n\nexport const stdApiGET = (options: any) => {\n  return (\n    fetch(\n      options.url,\n      {\n        method: 'GET',\n        headers: modifyHeader(options),\n      },\n    )\n  );\n};\n\nexport const stdApiPUT = (options: any) => {\n  return (\n    options.data ?\n    fetch(\n      options.url,\n      {\n        method: 'PUT',\n        headers: modifyHeader(options),\n        body: JSON.stringify(options.data || {}),\n      },\n    )\n    :\n    fetch(\n      options.url,\n      {\n        method: 'PUT',\n        headers: modifyHeader(options),\n      },\n    )\n  );\n};\n","import * as React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHome, faMapMarked, faPlusSquare, faHistory, faUserCircle } from '@fortawesome/free-solid-svg-icons';\nimport './index.scss';\n\nfunction TabBar() {\n  return(\n    <div className=\"container tabbar d-flex flex-row justify-content-between pt-12 pb-20 fill_w\">\n      <NavLink to=\"/\" activeClassName=\"tabbar__activeLink text-decoration-none ml-14\">\n        <div className=\"tabbar__item text-center pb-8 px-8\">\n          <FontAwesomeIcon className=\"tabbar__item--icon ml-6 pb-4\" icon={faHome} color=\"\" />\n          <p>\n            Главная\n          </p>\n        </div>\n      </NavLink>\n      <NavLink to=\"/map\" activeClassName=\"tabbar__activeLink text-decoration-none\">\n        <div className=\"tabbar__item text-center pb-8 px-8\">\n          <FontAwesomeIcon className=\"tabbar__item--icon pb-4\" icon={faMapMarked} color=\"\" />\n          <p>\n            Карта\n          </p>\n        </div>\n      </NavLink>\n      <NavLink to=\"/offer\" activeClassName=\"tabbar__activeLink text-decoration-none\">\n        <div className=\"tabbar__item text-center pb-8 px-8\">\n          <FontAwesomeIcon className=\"tabbar__item--icon ml-8 pb-4\" icon={faPlusSquare} color=\"#00BBFF\" />\n          <p className=\"tabbar__item--center\">\n            Создать\n          </p>\n        </div>\n      </NavLink>\n      <NavLink to=\"/login\" activeClassName=\"tabbar__activeLink text-decoration-none\">\n        <div className=\"tabbar__item text-center pb-8 px-8\">\n          <FontAwesomeIcon className=\"tabbar__item--icon ml-8 pb-4\" icon={faHistory} color=\"\" />\n          <p>\n            История\n          </p>\n        </div>\n      </NavLink>\n      <NavLink to=\"/cabinet\" activeClassName=\"tabbar__activeLink text-decoration-none\">\n        <div className=\"tabbar__item text-center pb-8 px-8\">\n          <FontAwesomeIcon className=\"tabbar__item--icon ml-8 pb-4\" icon={faUserCircle} color=\"\" />\n          <p>\n            Кабинет\n          </p>\n        </div>\n      </NavLink>\n\n    </div>\n  )\n}\n\nexport default TabBar;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { API_URL } from 'src/constants/server';\r\nimport { stdApiPOST, stdApiPUT } from 'src/store/defaultApi';\r\n\r\nconst id = sessionStorage.getItem('userId');\r\n\r\nconst authUrl = `${API_URL}api/user/login`;\r\nconst checkPhoneUrl = `${API_URL}api/user/checkphone`;\r\nconst checkCodeUrl =  `${API_URL}api/user/checkcode`;\r\nconst updatePasswordUrl = `${API_URL}api/user/${id}/changepassword`;\r\nconst registerUrl =  `${API_URL}api/user/registration`;\r\n\r\nexport const login = (data: any) => (\r\n    stdApiPOST({ data, url: authUrl })\r\n);\r\n\r\nexport const checkPhone = (data: any) => (\r\n  stdApiPOST({ data, url: checkPhoneUrl })\r\n);\r\n\r\nexport const checkCode = (data: any) => (\r\n  stdApiPOST({ data, url: checkCodeUrl })\r\n);\r\n\r\nexport const register = (data: any) => (\r\n  stdApiPOST({ data, url: registerUrl })\r\n);\r\n\r\nexport const updatePassword = (data: any) => (\r\n  stdApiPUT({ data, url: updatePasswordUrl })\r\n);\r\n","import { defaultAction } from 'src/store/defaultAction';\r\nimport * as api from './api';\r\nimport { LOGIN, UPDATE_PASSWORD, CHECK_PHONE, CHECK_CODE, REGISTER } from './types';\r\n\r\nexport const login = (data: any, callbacks?: any) => (dispatch?: any, getState?: any) => {\r\n  defaultAction(dispatch, getState, {\r\n    callbacks,\r\n    action: LOGIN,\r\n    apiCall: () => { return api.login(data); },\r\n    onSuccess: (response: any) => {\r\n      window.location.replace('/');\r\n      sessionStorage.setItem('token', response.Token);\r\n      sessionStorage.setItem('userId', response.User.id);\r\n      return {\r\n        user_token: response.Token,\r\n        user_info: response.User,\r\n      };\r\n    },\r\n    onError: (response: any) => ({ user_token: response.Error }),\r\n  });\r\n};\r\n\r\nexport const checkPhone = (data: any, callbacks: any) => (dispatch: any, getState: any) => {\r\n  defaultAction(dispatch, getState, {\r\n    callbacks,\r\n    action: CHECK_PHONE,\r\n    apiCall: () => { return api.checkPhone(data); },\r\n    onSuccess: (response: any) => {\r\n      console.log('checkphone token changed to ', response.Token);\r\n      sessionStorage.setItem('token', response.Token);\r\n    },\r\n    onError: (response: any) => ({ errorMessage: response.Error }),\r\n  });\r\n};\r\n\r\nexport const checkCode = (data: any, callbacks: any) => (dispatch: any, getState: any) => {\r\n  defaultAction(dispatch, getState, {\r\n    callbacks,\r\n    action: CHECK_CODE,\r\n    apiCall: () => { return api.checkCode(data); },\r\n    onSuccess: (response: any) => {\r\n      console.log('checkcode - token changed to ', response.Token);\r\n      sessionStorage.setItem('token', response.Token);\r\n    },\r\n    onError: (response: any) => ({ errorMessage: response.Error }),\r\n  });\r\n};\r\n\r\nexport const register = (data: any, callbacks: any) => (dispatch: any, getState: any) => {\r\n  defaultAction(dispatch, getState, {\r\n    callbacks,\r\n    action: REGISTER,\r\n    apiCall: () => { return api.register(data); },\r\n    onSuccess: (response: any) => {\r\n      sessionStorage.setItem('token', response.Token);\r\n      window.location.replace('/cabinet');\r\n    },\r\n    onError: (response: any) => ({ errorMessage: response.Error }),\r\n  });\r\n};\r\n\r\nexport const updatePassword = (data: any, callbacks?: any) => (dispatch?: any, getState?: any) => {\r\n  defaultAction(dispatch, getState, {\r\n    callbacks,\r\n    action: UPDATE_PASSWORD,\r\n    apiCall: () => { return api.updatePassword(data); },\r\n    onSuccess: () => {\r\n      window.location.replace('/cabinet');\r\n    },\r\n    onError: (response: any) => ({ errorPassword: response.Error }),\r\n  });\r\n};\r\n\r\nexport default{\r\n  login,\r\n  checkPhone,\r\n  checkCode,\r\n  register,\r\n  updatePassword,\r\n};\r\n"],"sourceRoot":""}