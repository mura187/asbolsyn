(this.webpackJsonpasbolsyn=this.webpackJsonpasbolsyn||[]).push([[5],{106:function(e,t,a){"use strict";a.r(t);var n=a(80),c=a(0),r=a.n(c),o=a(20),i=a(81),l=a(83),s=a(78),m=a(91),u=a.n(m);a(93),a(94);var f=function(e){var t=e.producerId,a=e.foodName,n=e.price,r=e.availableQuantity,o=e.location,i=e.created;return c.createElement(c.Fragment,null,c.createElement("div",{className:"card-item base-shadow d-flex flex-column container my-10"},c.createElement("div",{className:"d-flex flex-row justify-content-between p-12"},c.createElement("h2",{className:"card-item__price"},n," \u20b8"),c.createElement("p",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c #",t)),c.createElement("div",{className:"d-flex flex-column p-12"},c.createElement("h3",{className:"card-item__title my-4"},a,c.createElement("br",null)),c.createElement("h3",{className:"card-item__quantity"},"\u043f\u043e\u0440\u0446\u0438\u0438: ",r," ",c.createElement("br",null))),c.createElement("hr",{className:"card-item__divider px-12"}),c.createElement("div",{className:"card-item__created-info d-flex flex-row p-12 justify-content-between"},i&&c.createElement(u.a,{fromNow:!0},i),c.createElement("p",null,o.join(", ")))))};var b=function(e){var t=e.items;return c.createElement(c.Fragment,null,c.createElement("h4",{className:"container mt-40 mb-16"},"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f (",null===t||void 0===t?void 0:t.length,")"),t&&t.map((function(e){return c.createElement(c.Fragment,{key:e.id},c.createElement(f,e))})))};var d={getItems:i.a.getItems};t.default=Object(o.c)((function(e){return{items:e.itemReducer.items.data}}),d)((function(e){var t=e.items,a=e.getItems,o=Object(c.useState)(!1),i=Object(n.a)(o,2),m=i[0],u=i[1];return Object(c.useEffect)((function(){m||(u(!0),a&&a())}),[m,a]),r.a.createElement("div",null,r.a.createElement(l.a,{link:"/map",title:"\u041d\u0430 \u043a\u0430\u0440\u0442\u0435"}),r.a.createElement(b,{items:t}),r.a.createElement(s.a,null))}))},73:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(70),c=function(e,t,a,c){var r=a.callbacks||{};e({type:a.action.started}),a.apiCall().then((function(t){switch(t.status){case 200:case 201:t.text().then((function(t){if(c){var o="data:image/png;base64,".concat(t);e(Object(n.a)({type:a.action.success},a.onSuccess(o))),r.onSuccess&&r.onSuccess(a.onSuccess(o))}else{var i=JSON.parse(t);e(Object(n.a)({type:a.action.success},a.onSuccess(i))),r.onSuccess&&r.onSuccess(a.onSuccess(i))}}));break;case 230:t.text().then((function(t){e(Object(n.a)({type:a.action.success},a.onSuccess(!0))),r.onSuccess&&r.onSuccess(a.onSuccess(!0))}));break;case 500:t.text().then((function(t){e(Object(n.a)({type:a.action.failed},a.onError({message:"\u043e\u0448\u0438\u0431\u043a\u0430 500!"})))}));break;case 504:t.text().then((function(t){e(Object(n.a)({type:a.action.failed},a.onError({message:"serverError"})))}));break;default:e({type:a.action.failed,errorMessage:"\u041e\u0448\u0438\u0431\u043a\u0430 #".concat(t.status)})}}),(function(t){e(Object(n.a)({type:a.action.failed,errorMessage:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435"},a.onError({message:"serverError"})))}))}},74:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="http://185.22.67.118:8080/"},75:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i}));var n=a(70),c=function(e){var t=Object(n.a)({},{Accept:"application/json, application/xml, text/plain, text/html, *.*",Token:"".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"});return e.token&&(t.Token="Bearer ".concat(e.token)),t},r=function(e){return fetch(e.url,{method:"POST",headers:c(e),body:JSON.stringify(e.data||{})})},o=function(e){return fetch(e.url,{method:"GET",headers:c(e)})},i=function(e){return e.data?fetch(e.url,{method:"PUT",headers:c(e),body:JSON.stringify(e.data||{})}):fetch(e.url,{method:"PUT",headers:c(e)})}},78:function(e,t,a){"use strict";var n=a(0),c=a(72),r=a(76),o=a(77);a(79);t.a=function(){return n.createElement("div",{className:"container tabbar d-flex flex-row justify-content-between pt-12 pb-20 fill_w"},n.createElement(c.a,{to:"/",activeClassName:"tabbar__activeLink text-decoration-none ml-14"},n.createElement("div",{className:"tabbar__item text-center pb-8 px-8"},n.createElement(r.a,{className:"tabbar__item--icon ml-6 pb-4",icon:o.e,color:""}),n.createElement("p",null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"))),n.createElement(c.a,{to:"/map",activeClassName:"tabbar__activeLink text-decoration-none"},n.createElement("div",{className:"tabbar__item text-center pb-8 px-8"},n.createElement(r.a,{className:"tabbar__item--icon pb-4",icon:o.f,color:""}),n.createElement("p",null,"\u041a\u0430\u0440\u0442\u0430"))),n.createElement(c.a,{to:"/offer",activeClassName:"tabbar__activeLink text-decoration-none"},n.createElement("div",{className:"tabbar__item text-center pb-8 px-8"},n.createElement(r.a,{className:"tabbar__item--icon ml-8 pb-4",icon:o.g,color:"#00BBFF"}),n.createElement("p",{className:"tabbar__item--center"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))),n.createElement(c.a,{to:"/login",activeClassName:"tabbar__activeLink text-decoration-none"},n.createElement("div",{className:"tabbar__item text-center pb-8 px-8"},n.createElement(r.a,{className:"tabbar__item--icon ml-8 pb-4",icon:o.d,color:""}),n.createElement("p",null,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"))),n.createElement(c.a,{to:"/cabinet",activeClassName:"tabbar__activeLink text-decoration-none"},n.createElement("div",{className:"tabbar__item text-center pb-8 px-8"},n.createElement(r.a,{className:"tabbar__item--icon ml-8 pb-4",icon:o.i,color:""}),n.createElement("p",null,"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"))))}},79:function(e,t,a){},81:function(e,t,a){"use strict";var n=a(73),c=a(74),r=a(75),o=sessionStorage.getItem("userId"),i="".concat(c.a,"api/offer"),l="".concat(c.a,"api/producer/").concat(o,"/offer"),s=a(16);t.a={getItems:function(e){return function(t,a){Object(n.a)(t,a,{callbacks:e,action:s.b,apiCall:function(){return Object(r.a)({url:"".concat(i)})},onSuccess:function(e){return{list:e}},onError:function(e){return{errorMessage:e.description}}})}},createOffer:function(e,t){return function(a,c){Object(n.a)(a,c,{callbacks:t,action:s.a,apiCall:function(){return function(e){return Object(r.b)({data:e,url:"".concat(l)})}(e)},onSuccess:function(e){return window.location.replace("/"),{user_token:e.Token}},onError:function(e){return console.log("token-error"),"Couldn't find token"===e.Error&&window.location.replace("/login"),{user_token:e.Error}}})}}}},83:function(e,t,a){"use strict";var n=a(0),c=a(72),r=a(76),o=a(77);a(84);t.a=function(e){var t=e.link,a=e.title;return n.createElement("div",{className:"search-toggler container mb-8"},n.createElement("div",{className:"d-flex flex-row justify-content-between text-main"},n.createElement("div",{className:"search-toggler__item p-12 fill_w text-center"},n.createElement(c.a,{className:"text-main text-decoration-none",to:t},n.createElement("p",{className:"fill_w"},a))),n.createElement("div",{className:"p-12 fill_w text-center"},n.createElement("p",{className:"fill_w"},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",n.createElement(r.a,{className:"ml-8",color:"#888888",icon:o.c})))))}},84:function(e,t,a){},94:function(e,t,a){}}]);
//# sourceMappingURL=5.ac499e69.chunk.js.map